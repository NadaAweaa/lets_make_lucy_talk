version: "3.1"

intents:
  - greet
  - goodbye
  - tell_name
  - tell_order
  - tell_place
  - affirm
  - deny
  - system_scenario_one

entities:
  - name
  - order
  - places

actions:
  - action_deal_with_system_message
  - action_clear_slots
  - action_fallback_response

lookups:
  - name
  - order
  - places

forms:
  simple_order_form:
    required_slots:
      - order
      - places
      - confirmation

slots:
  order:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: order

  places:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: places

  confirmation:
    type: bool
    mappings:
    - type: from_intent
      intent: affirm
      value: true
      conditions:
      - active_loop: simple_order_form
        requested_slot: confirmation

responses:
  utter_greet:
  - text: "Hello! I am a bot."

  utter_interruption_at_start:
  - text: "Hello! Sorry for the interruption, but can I get you anything?"

  utter_greet_by_name:
  - text: "Hello,(name) nice to meet you."

  utter_ask_how_can_I_help:
  - text: "How can I help you?"

  utter_will_be_back:
  - text: "Okay! will be right back to you."
  
  utter_call_if_you_need_anything:
  - text: "Okay! call my name if you need anything"

  utter_ask_order:
  - text: "What would you like to have?"

  utter_ask_places:
  - text: "Where can I find it?"

  utter_will_bring_order:
    - text: I will now make an order for you! One {order} from {places}.

  utter_processing_order:
    - text: I am processing your order.

  utter_sorry_for_inconvenience:
    - text: "Sorry for the inconvenience."

  utter_ask_confirmation:
    - text: "You ordered {order} from {places}. Is that correct?"

session_config:
  session_expiration_time: 0
  carry_over_slots_to_new_session: false

#TODO:  can also use /session_start and /stop to control the session. Need to check if memory is saved. 